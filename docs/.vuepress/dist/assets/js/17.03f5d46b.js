(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{371:function(s,a,e){"use strict";e.r(a);var t=e(40),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"centos7软件安装记录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos7软件安装记录"}},[s._v("#")]),s._v(" CentOS7软件安装记录")]),s._v(" "),e("h3",{attrs:{id:"准备工作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[s._v("#")]),s._v(" 准备工作")]),s._v(" "),e("h4",{attrs:{id:"更换阿里云源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更换阿里云源"}},[s._v("#")]),s._v(" 更换阿里云源")]),s._v(" "),e("h5",{attrs:{id:"备份"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#备份"}},[s._v("#")]),s._v(" 备份")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"下载最新的centos-base-repo-到-etc-yum-repos-d"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载最新的centos-base-repo-到-etc-yum-repos-d"}},[s._v("#")]),s._v(" 下载最新的CentOS-Base.repo 到/etc/yum.repos.d/")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"生成缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生成缓存"}},[s._v("#")]),s._v(" 生成缓存")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum makecache\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"ftp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ftp"}},[s._v("#")]),s._v(" FTP")]),s._v(" "),e("h4",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum install -y vsftpd\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"修改配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改配置"}},[s._v("#")]),s._v(" 修改配置")]),s._v(" "),e("blockquote",[e("p",[s._v("匿名用户常见的配置项及含义：\nanonymous_enable=YES:是否允许匿名访问；\nanon_umask=022:设置匿名用户所上传文件的默认权限掩码值（反掩码）；\nanon_root=/var/ftp:指定匿名用户的根目录；\nanon_upload_enable=YES:是否允许匿名用户上传文件；\nanon_mkdir_write_enable=YES:是否允许匿名用户有创建目录的写入权限；\nanon_other_write_enable=YES：是否允许匿名用户有其他的写入权限（对文件改名、覆盖或删除文件等）；")]),s._v(" "),e("p",[s._v("本地用户的一些配置项及含义：\nlocal_enable=YES:是否允许本地用户访问\nlocal_root=/var/ftp:设置本地用户的FTP根目录（默认为用户的宿主目录）\nchroot_local_user=YES:是否将FTP本地用户禁锢在宿主目录中；\nallow_writeable_chroot=YES:允许被限制的用户主目录具有写权限\nlocal_max_rate=0：限制本地用户的最大传输速率（0为无限制），单位为字节/秒（B/s）\n在/etc/vsftpd/目录下还有两个配置文件 ftpusers和user_list\nftpusers文件：此文件中包含root、bin、daemon等用于系统运行的特殊用户，文件中列出的用户将禁止登陆vsftpd服务器\nuser_list：此文件中包含的用户可能被禁止，可能被允许，具体取决于主配置文件vsftpd.conf中的设置，当存在“user_list---enable=YES时”，user_list列表文件生效，若继续指定“user_deny=YES”时，则功能与ftpusers一样，禁止文件内的用户登录，将YES改为NO时，表示允许。")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("vim /etc/vaftpd/vsftpd.conf\nvim /etc/vsftpd/vsftpd.conf\n:set number\n# 12\nanonymous_enable=NO\n# 101-106\nchroot_local_user=YES\n102 chroot_list_enable=YES\n103 # (default follows)\n# 添加\n104 userlist_file=/etc/vsftpd/user_list\n105 chroot_list_file=/etc/vsftpd/chroot_list\n# 添加\n106 allow_writeable_chroot=YES\n# 116\nlisten=YES\n#125\n#listen_ipv6=YES\n# 127\n添加\nuserlist_deny=NO\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br")])]),e("p",[s._v("2")]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[s._v("anonymous_enable"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NO")]),s._v(" \n#关闭匿名登录\n   \nchroot_local_user"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("YES")]),s._v(" \n#用于指定用户列表文件中的用户是否允许切换到上级目录。默认值为"),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NO")]),s._v("。\n#通过搭配能实现以下几种效果： \n#①当chroot_list_enable"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("YES")]),s._v("，chroot_local_user"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("YES")]),s._v("时，在"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("vsftpd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("chroot_list文件中列出的用户，可以切换到其他目录；未在文件中列出的用户，不能切换到其他目录。 \n#②当chroot_list_enable"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("YES")]),s._v("，chroot_local_user"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NO")]),s._v("时，在"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("vsftpd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("chroot_list文件中列出的用户，不能切换到其他目录；未在文件中列出的用户，可以切换到其他目录。 \n#③当chroot_list_enable"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NO")]),s._v("，chroot_local_user"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("YES")]),s._v("时，所有的用户均不能切换到其他目录。 \n#④当chroot_list_enable"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NO")]),s._v("，chroot_local_user"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NO")]),s._v("时，所有的用户均可以切换到其他目录。 \n   \nchroot_list_enable"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("YES")]),s._v(" \nchroot_list_file"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("vsftpd"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("chroot_list \n \nallow_writeable_chroot"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("YES")]),s._v(" \n#加上这行解决了无法登陆的问题 \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("h4",{attrs:{id:"设置开机启动ftp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置开机启动ftp"}},[s._v("#")]),s._v(" 设置开机启动ftp")]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[s._v("systemctl enable vsftpd\n# 或者\nchkconfig vsftpd on\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"启动-重新启动ftp服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动-重新启动ftp服务"}},[s._v("#")]),s._v(" 启动/重新启动ftp服务")]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[s._v("systemctl start vsftpd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service\nsystemctl restart vsftpd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"开放21端口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开放21端口"}},[s._v("#")]),s._v(" 开放21端口")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("firewall-cmd --add-port=21/tcp --permanent\nsystemctl restart firewalld\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"建立ftp账号"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#建立ftp账号"}},[s._v("#")]),s._v(" 建立ftp账号")]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[s._v("useradd "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("path（你的ftp文件夹） "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nologin ftpname（用户名）\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"修改密码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改密码"}},[s._v("#")]),s._v(" 修改密码")]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[s._v("passwd ftpname\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"设置账户权限"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置账户权限"}},[s._v("#")]),s._v(" 设置账户权限")]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[s._v("chown "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("R")]),s._v(" ftpname "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("path（你的ftp路径）\nchmod "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("path\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"设置路径运行上传"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置路径运行上传"}},[s._v("#")]),s._v(" 设置路径运行上传")]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[s._v("setsebool "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("P")]),s._v(" ftp_home_dir on\nsetsebool allow_ftpd_full_access on\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"重启vsftp服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重启vsftp服务"}},[s._v("#")]),s._v(" 重启vsftp服务")]),s._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[s._v("systemctl restart vsftpd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"添加用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加用户"}},[s._v("#")]),s._v(" 添加用户")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("vim /etc/vaftpd/chroot_list\n# 添加刚刚设置的用户\nvim /etc/vaftpd/user_list\n# 添加刚刚设置的用户\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"iptables"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#iptables"}},[s._v("#")]),s._v(" iptables")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum -y install iptables-services\nsystemctl restart iptables\nsystemctl enable iptables\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("-1，先检查是否安装了telnet ：\n \n  rpm -qa | grep telnet\n-2. 然后检查yum列表里面有什么\n \n[root@slave01 ~]# yum list | grep telnet\ntelnet-server.x86_64                       1:0.17-48.el6                 @base \ntelnet.x86_64                              1:0.17-48.el6                 base\n \n-3、安装\n \nyum install -y telnet-server.x86_64\nyum install -y telnet.x86_64\n \n-4.执行telnet ip port\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("h3",{attrs:{id:"java1-8"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#java1-8"}},[s._v("#")]),s._v(" Java1.8")]),s._v(" "),e("h4",{attrs:{id:"下载安装包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载安装包"}},[s._v("#")]),s._v(" 下载安装包")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://www.oracle.com/java/technologies/javase-jdk8-downloads.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网下载"),e("OutboundLink")],1)]),s._v(" "),e("h4",{attrs:{id:"安装-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-2"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 解压 移动到/usr/local/java\ntar -zxvf jdk-8u241-linux-x64.tar.gz\nmv jdk1.8.0_241 /usr/local/java\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"设置环境变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置环境变量"}},[s._v("#")]),s._v(" 设置环境变量")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 修改配置文件\nvim /etc/profile\n\n# 在文本末尾添加以下内容\nexport JAVA_HOME=/usr/local/Java/jdk1.8.0_241\nexport JRE_HOME=${JAVA_HOME}/jre \nexport CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib \nexport PATH=${JAVA_HOME}/bin:$PATH\n\n# 使配置生效\nsource /etc/profile\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 检验是否安装成功 出现版本号即成功\njava -version\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"mysql5-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql5-7"}},[s._v("#")]),s._v(" MySQL5.7")]),s._v(" "),e("blockquote",[e("p",[s._v("2种安装方式")])]),s._v(" "),e("h4",{attrs:{id:"_1、在线安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、在线安装"}},[s._v("#")]),s._v(" 1、在线安装")]),s._v(" "),e("h4",{attrs:{id:"下载rpm安装源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载rpm安装源"}},[s._v("#")]),s._v(" 下载rpm安装源")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://dev.mysql.com/downloads/repo/yum/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网地址"),e("OutboundLink")],1)]),s._v(" "),e("p",[e("a",{attrs:{href:"https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm",target:"_blank",rel:"noopener noreferrer"}},[s._v("rpm文件地址"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("wget https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("rpm -ivh mysql57-community-release-el7-11.noarch.rpm\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"安装-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-3"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum install -y mysql-community-server\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"设置开机启动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置开机启动"}},[s._v("#")]),s._v(" 设置开机启动")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("systemctl enable mysqld\nsystemctl daemon-reload\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h5",{attrs:{id:"启动mysql服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动mysql服务"}},[s._v("#")]),s._v(" 启动MySQL服务")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("systemctl start mysqld\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"修改root登录密码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改root登录密码"}},[s._v("#")]),s._v(" 修改root登录密码")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 获取root默认密码（由于Mysql安全策略升级，安装完成后系统自动设置了一个随机密码）\ngrep 'temporary password' /var/log/mysqld.log\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 输入上面获取到的密码\nmysql -u root -p\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("vim /etc/my.cnf\n# 末尾添加\nvalidate_password = off\n# 重启服务\nsystemctl restart mysqld\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alert user 'root@localhost' identified by '123456';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"配置远程用户登录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置远程用户登录"}},[s._v("#")]),s._v(" 配置远程用户登录")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("GRANT ALL PRIVILEGES ON *.* TO 'xing'@'%' IDENTIFIED BY '123456' WITH GRANT OPTION;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 开放3306端口\nfirewall-cmd --zone=public --add-port=3306/tcp --permanent \nfirewall-cmd --reload\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("flush privileges;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"_2、解压安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、解压安装"}},[s._v("#")]),s._v(" 2、解压安装")]),s._v(" "),e("p",[s._v("...")]),s._v(" "),e("h3",{attrs:{id:"tomcat8-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tomcat8-5"}},[s._v("#")]),s._v(" Tomcat8.5")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://tomcat.apache.org/download-80.cgi",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载地址"),e("OutboundLink")],1)]),s._v(" "),e("h4",{attrs:{id:"安装-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-4"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("tar -zxvf apache-tomcat-8.5.51.tar.gz\ncd /usr/local\nmkdir -p Tomcat\nmv /home/ftp/apache-tomcat-8.5.51 /usr/local/Tomcat/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h4",{attrs:{id:"开放8080端口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开放8080端口"}},[s._v("#")]),s._v(" 开放8080端口")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("firewall-cmd --add-port=8080/tcp --permanent\nfirewall-cmd --query-port=8080/tcp\nsystemctl restart firewalld.service\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"开启managerapp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开启managerapp"}},[s._v("#")]),s._v(" 开启ManagerApp")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('cd conf\nvim tomcat-users.xml\n<role rolename="manager-gui"/>\n<user username="tomcat" password="s3cret" roles="manager-gui"/>\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"redis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[s._v("#")]),s._v(" Redis")]),s._v(" "),e("h4",{attrs:{id:"安装-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-5"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("h5",{attrs:{id:"下载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[s._v("#")]),s._v(" 下载")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("wget http://download.redis.io/releases/redis-5.0.7.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"解压安装包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解压安装包"}},[s._v("#")]),s._v(" 解压安装包")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 解压后移动到/usr/local/redis\ntar -zxvf redis-5.0.7.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h5",{attrs:{id:"安装gcc依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装gcc依赖"}},[s._v("#")]),s._v(" 安装gcc依赖")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum install gcc\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"编译安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编译安装"}},[s._v("#")]),s._v(" 编译安装")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 到解压目录下\ncd /usr/local/redis\n\nmake MALLOC=libc\n\n# 将/usr/local/redis/src目录下的文件加到/usr/local/bin目录\ncd src && make install\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h4",{attrs:{id:"启动redis的三种方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动redis的三种方式"}},[s._v("#")]),s._v(" 启动redis的三种方式")]),s._v(" "),e("h5",{attrs:{id:"_1、直接启动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、直接启动"}},[s._v("#")]),s._v(" 1、直接启动")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 在src目录下\n./redis-server\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("此方法不太方便，要一直开启窗口")]),s._v(" "),e("h5",{attrs:{id:"_2、以后台进程方式启动redis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、以后台进程方式启动redis"}},[s._v("#")]),s._v(" 2、以后台进程方式启动redis")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 修改redis.conf 改为yes\ndaemonize no\n\n# 指定redis.conf文件启动\n./redis-server /usr/local/redis/redis.conf\n\n# 关闭redis进程\nps -aux | grep redis 查看进程\nroot  7142  0.0  0.0 112712   960 pts/0  S+ 17:44   0:00 grep --color=auto redis\n# kill命令杀死进程\nkill 7142\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h5",{attrs:{id:"_3、开机自启-推荐"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、开机自启-推荐"}},[s._v("#")]),s._v(" 3、开机自启(推荐)")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 在/etc目录下新建redis目录\ncd /etc/\nmkdir -p redis\n# 将/usr/local/redis/redis.conf 文件复制一份到/etc/redis目录下，并命名为6379.conf（名字随便）\n\ncp /usr/local/redis/redis.conf /etc/redis/6379.conf\n\n# 将redis的启动脚本复制一份放到/etc/init.d目录下\ncp /usr/local/redis/redis-5.0.7/utils/redis_init_script /etc/init.d/redisd\n\n# 设置redis开机自启动  先切换到/etc/init.d目录下\nchkconfig redisd on\n\n# 可能出现的错误\nservice redisd does not support chkconfig\n# 解决方法\nvim /etc/init.d/redisd\n# chkconfig:   2345 90 10\n# description:  Redis is a persistent key-value database\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 启动\nservice redisd start\n# 关闭\nservice redisd stop\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("参考：")]),s._v(" "),e("p",[s._v("https://www.cnblogs.com/zuidongfeng/p/8032505.html")]),s._v(" "),e("p",[s._v("https://www.cnblogs.com/heqiuyong/p/10463334.html")]),s._v(" "),e("h3",{attrs:{id:"mongodb"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mongodb"}},[s._v("#")]),s._v(" MongoDB")]),s._v(" "),e("h4",{attrs:{id:"配置mongodb的yum源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置mongodb的yum源"}},[s._v("#")]),s._v(" 配置MongoDB的yum源")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("vim /etc/yum.repos.d/mongodb-org-4.2.repo\n# 添加以下内容\n[mongodb-org-4.2] \nname=MongoDB Repository \nbaseurl=https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/4.2/x86_64/ \ngpgcheck=1 \nenabled=1 \ngpgkey=https://www.mongodb.org/static/pgp/server-4.2.asc\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h4",{attrs:{id:"安装-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-6"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum -y install mongodb-org\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"查看是否安装成功"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看是否安装成功"}},[s._v("#")]),s._v(" 查看是否安装成功")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("mongo -version\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"查看mongodb安装后的相关文件目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看mongodb安装后的相关文件目录"}},[s._v("#")]),s._v(" 查看mongodb安装后的相关文件目录")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("whereis mongo\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("MongoDB默认将数据文件存放在 /var/lib/mongo 目录下，将日志文件存放在 /var/log/mongodb 目录下，并且以 mongod 用户身份运行。")]),s._v(" "),e("p",[s._v("可以通过修改 /etc/mongod.conf 文件指定数据文件目录和日志文件目录。")]),s._v(" "),e("p",[s._v("有关日志路径和数据存储路径的更多信息请参考")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://docs.mongodb.com/manual/reference/configuration-options/#systemLog.path",target:"_blank",rel:"noopener noreferrer"}},[s._v("帮助文档1"),e("OutboundLink")],1)]),s._v(" "),e("p",[e("a",{attrs:{href:"https://docs.mongodb.com/manual/reference/configuration-options/#storage.dbPath",target:"_blank",rel:"noopener noreferrer"}},[s._v("帮助文档2"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("如果更改了运行MongoDB的用户，则必须修改 /var/lib/mongo 和 /var/log/mongodb 的权限，使得相应的运行用户能够访问修改权限。")]),s._v(" "),e("h4",{attrs:{id:"启动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[s._v("#")]),s._v(" 启动")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("systemctl start mongod.service\n\n# 开机自启\nsystemctl enable mongod.service\n...\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h4",{attrs:{id:"创建用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建用户"}},[s._v("#")]),s._v(" 创建用户")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('# 设置管理员用户和密码\nmongo\nuse admin\ndb.createUser({user:"admin",pwd:"root",roles:[{role:"userAdminAnyDatabase",db:"admin"}]})\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h5",{attrs:{id:"开启身份验证"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开启身份验证"}},[s._v("#")]),s._v(" 开启身份验证")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("vim /etc/mongod.conf\n# 取消注释\nsecurity:\n# 添加以下内容\n  authorization: enabled #要修改的位置(不要忘记authorization前面的空格2个)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h5",{attrs:{id:"管理员登录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#管理员登录"}},[s._v("#")]),s._v(" 管理员登录")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('mongo -u admin -p\n# 创建用户数据库\nuse hello\n# 添加数据库用户\ndb.createUser({user:"xing",pwd:"123456",roles:[{role:"readWrite",db:"hello"}]})\n# 登录xing用户\n mongo -u xing -p 123456 hello\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h4",{attrs:{id:"配置远程连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置远程连接"}},[s._v("#")]),s._v(" 配置远程连接")]),s._v(" "),e("h5",{attrs:{id:"修改配置文件mongod-conf"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件mongod-conf"}},[s._v("#")]),s._v(" 修改配置文件mongod.conf")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("vim /etc/mongod.conf\n# 把bandIp=127.0.0.1注释或修改为bandIp=0.0.0.0\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h5",{attrs:{id:"重启mongodb服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重启mongodb服务"}},[s._v("#")]),s._v(" 重启mongodb服务")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("systemctl restart mongod.service\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h5",{attrs:{id:"开放27017端口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开放27017端口"}},[s._v("#")]),s._v(" 开放27017端口")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("iptables -A INPUT -p tcp -m state --state NEW -m tcp --dport 27017 -j ACCEPT\n# 或者\nfirewall-cmd --zone=public --add-port=27017/tcp --permanent\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[e("strong",[s._v("阿里云服务器需要在安全组开放端口")])]),s._v(" "),e("h5",{attrs:{id:"远程连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#远程连接"}},[s._v("#")]),s._v(" 远程连接")]),s._v(" "),e("p",[s._v("推荐使用Navicat Premium 15")]),s._v(" "),e("p",[s._v("...")]),s._v(" "),e("h4",{attrs:{id:"补充"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#补充"}},[s._v("#")]),s._v(" 补充")]),s._v(" "),e("h5",{attrs:{id:"roles"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#roles"}},[s._v("#")]),s._v(" roles:")]),s._v(" "),e("ul",[e("li",[s._v("Read：允许用户读取指定数据库")]),s._v(" "),e("li",[s._v("readWrite：允许用户读写指定数据库")]),s._v(" "),e("li",[s._v("dbAdmin：允许用户在指定数据库中执行管理函数，如创建索引，删除，查看统计或访问system.profile")]),s._v(" "),e("li",[s._v("userAdmin：允许用户向system.users集合写入，可以在指定数据库里创建，删除和管理用户")]),s._v(" "),e("li",[s._v("clusterAdmin：只在admin数据库可用，赋予用户所有分片和复制集相关函数的管理权限")]),s._v(" "),e("li",[s._v("readAnyDatabase：只在admin数据库可用，赋予用户所有数据库的读取权限")]),s._v(" "),e("li",[s._v("readWriteAnyDatabase：只在admin数据库可用，赋予用户所有数据库的读写权限")]),s._v(" "),e("li",[s._v("userAdminAnyDatabase：只在admin数据库可用，赋予用户所有数据库的userAdmin权限")]),s._v(" "),e("li",[s._v("dbAdminAnyDatabase：只在admin数据库可用，赋予用户所有数据库的dbAdmin权限")]),s._v(" "),e("li",[s._v("root：只在admin数据库可用，超级账号，超级权限")])]),s._v(" "),e("h3",{attrs:{id:"docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[s._v("#")]),s._v(" Docker")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("https://wuxuowe5.mirror.aliyuncs.com\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("uname -r\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum update\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-engine\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum install -y yum-utils device-mapper-persistent-data lvm2\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum-config-manager --add-repo http://download.docker.com/linux/centos/docker-ce.repo（中央仓库）\n\nyum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo（阿里仓库）\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum list docker-ce --showduplicates | sort -r\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum -y install docker-ce\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("systemctl start docker\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker ps 查看当前正在运行的容器\ndocker ps -a 查看所有容器的状态\ndocker start/stop id/name 启动/停止某个容器\ndocker attach id 进入某个容器(使用exit退出后容器也跟着停止运行)\ndocker exec -ti id 启动一个伪终端以交互式的方式进入某个容器（使用exit退出后容器不停止运行）\ndocker images 查看本地镜像\ndocker rm id/name 删除某个容器\ndocker rmi id/name 删除某个镜像\ndocker run --name test -ti ubuntu /bin/bash  复制ubuntu容器并且重命名为test且运行，然后以伪终端交互式方式进入容器，运行bash\ndocker build -t soar/centos:7.1 .  通过当前目录下的Dockerfile创建一个名为soar/centos:7.1的镜像\ndocker run -d -p 2222:22 --name test soar/centos:7.1  以镜像soar/centos:7.1创建名为test的容器，并以后台模式运行，并做端口映射到宿主机2222端口，P参数重启容器宿主机端口会发生改变\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker run -d --network=host --name storage -e TRACKER_SERVER=39.97.191.230:22122 -v /www/fdfs/storage:/var/fdfs -e GROUP_NAME=group1 delron/fastdfs storage\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("镜像重命名")]),s._v(" "),e("p",[s._v("docker images")]),s._v(" "),e("p",[s._v("docker tag IMAGEID(镜像id) REPOSITORY:TAG（仓库：标签）")]),s._v(" "),e("p",[s._v("示例：docker tag 9f6c2e7c4ff7 39.97.191.230:5000/jdk1.8:1.8")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('{\n    "registry-mirrors": ["https://wuxuowe5.mirror.aliyuncs.com"],\n    "insecure-registries": ["120.24.20.238:5000"]\n}\n\nsystemctl daemon-reload\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("1、开放端口")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 开放5672端口\nfirewall-cmd --zone=public --add-port=5672/tcp --permanent\n# 关闭5672端口\nfirewall-cmd --zone=public --remove-port=5672/tcp --permanent\n# 配置立即生效\nfirewall-cmd --reload\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("2、查看防火墙所有开放的端口")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("firewall-cmd --zone=public --list-ports\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("3.、关闭防火墙")]),s._v(" "),e("p",[s._v("如果要开放的端口太多，嫌麻烦，可以关闭防火墙，安全性自行评估")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("systemctl stop firewalld.service\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("4、查看防火墙状态")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("firewall-cmd --state\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("5、查看监听的端口")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("netstat -lnpt\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://img2018.cnblogs.com/blog/1336432/201903/1336432-20190302110949754-1765820036.png",alt:"img"}})]),s._v(" "),e("p",[e("em",[s._v("PS:centos7默认没有 netstat 命令，需要安装 net-tools 工具，yum install -y net-tools")])]),s._v(" "),e("p",[s._v("6、检查端口被哪个进程占用")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("netstat -lnpt |grep 5672\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://img2018.cnblogs.com/blog/1336432/201903/1336432-20190302104128381-1210567174.png",alt:"img"}})]),s._v(" "),e("p",[s._v("7、查看进程的详细信息")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ps 6832\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://img2018.cnblogs.com/blog/1336432/201903/1336432-20190302104342651-779103690.png",alt:"img"}})]),s._v(" "),e("p",[s._v("8、中止进程")]),s._v(" "),e("p",[e("strong",[s._v("kill -9 6832")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#chkconfig:- 20 90")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#description:zookeeper")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#processname:zookeeper")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ZOOKEEPER_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/zookeeper\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/java/jdk1.8.0_241 "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此处根据你的实际情况更换对应 ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n\t\tstart"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" root "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ZOOKEEPER_HOME")]),s._v("/bin/zkServer.sh start"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\tstop"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" root "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ZOOKEEPER_HOME")]),s._v("/bin/zkServer.sh stop"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\tstatus"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" root "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ZOOKEEPER_HOME")]),s._v("/bin/zkServer.sh status"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\trestart"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" root "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ZOOKEEPER_HOME")]),s._v("/bin/zkServer.sh restart"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\t*"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"require start|stop|status|restart"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("h3",{attrs:{id:"fastdfs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fastdfs"}},[s._v("#")]),s._v(" FastDFS")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker run -d --restart=always --privileged=true --net=host --name=fastdfs -e IP=192.168.20.20 -e WEB_PORT=80 -v ${HOME}/leyou:/var/local/leyou registry.cn-beijing.aliyuncs.com/tianzuo/fastdfs\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("其中-v ${HOME}/leyou:/var/local/leyou是指：将${HOME}/leyou这个目录挂载到容器里的/var/local/leyou这个目录里。所以上传的文件将被持久化到${HOME}/leyou/storage/data里，IP 后面是自己的服务器公网ip或者虚拟机ip，-e WEB_PORT=80 指定nginx端口")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker run -d --network=host --name tracker -v /home/leyou/docker/fastdfs/tracker:/var/fdfs delron/fastdfs tracker\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker run -d --network=host --name storage -e TRACKER_SERVER=192.168.20.20:22122 -v /home/leyou/docker/fastdfs/storage:/var/fdfs -e GROUP_NAME=group1 delron/fastdfs storage\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"elasticsearch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch"}},[s._v("#")]),s._v(" ElasticSearch")]),s._v(" "),e("p",[s._v("https://www.elastic.co/cn/downloads/past-releases#elasticsearch")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker pull elasticsearch:6.x\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('docker run --name elasticsearch -d -e ES_JAVA_OPTS="-Xms512m -Xmx512m" -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" f057ebddf832\n\ndocker run --name elasticsearch -d -e ES_JAVA_OPTS="-Xms512m -Xmx512m" --net host -e "discovery.type=single-node" -p 9200:9200 -p 9300:9300 f057ebddf832\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("docker inspect 5acf0e8da90b     # 查看容器内部信息")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker exec -it elasticsearch /bin/bash\n\n\necho 'deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-updates main restricted universe multiverse' >> sources.list\necho 'deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-backports main restricted universe multiverse' >> sources.list\necho 'deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-security main restricted universe multiverse' >> sources.list\n\napt-get update  # 获取最新的软件包\napt-get install vim   # 下载\n\n\nls\ncd config\nls\nvim elasticsearch.yml\n# 添加以下内容\ncluster.name: \"qfcwx-cluster\"   \nnetwork.host: 0.0.0.0\nhttp.cors.enabled: true\nhttp.cors.allow-origin: \"*\"\n\n\ncluster.name：自定义集群名称。\nnetwork.host：当前es节点绑定的ip地址，默认127.0.0.1，如果需要开放对外访问这个属性必须设置。\nhttp.cors.enabled：是否支持跨域，默认为false。\nhttp.cors.allow-origin：当设置允许跨域，默认为*，表示支持所有域名，如果我们只是允许某些网站能访问，那么可以使用正则表达式。\n\n重启容器\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br")])]),e("ul",[e("li",[e("p",[s._v("kinaba")]),s._v(" "),e("p",[s._v("docker pull kinaba:6.8")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);